"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7009],{7009:(y,g,a)=>{a.r(g),a.d(g,{RegisterPage:()=>T});var m=a(5861),u=a(6895),o=a(4006),s=a(2879),c=a(6159),p=a(3726),f=a(3016);let h=(()=>{class n{static spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}}return n.checkPasswords=l=>l.get("password").value===l.get("confirmPassword").value?null:{notSame:!0},n})();var v=a(4132),e=a(4650),x=a(3651);function Z(n,l){1&n&&(e.TgZ(0,"ion-note",26),e._uU(1,"Obligatorio"),e.qZA())}function b(n,l){1&n&&(e.TgZ(0,"ion-note",26),e._uU(1,"Email inv\xe1lido"),e.qZA())}function _(n,l){1&n&&(e.TgZ(0,"ion-content",27),e._uU(1," La contrase\xf1a debe tener una longitud m\xednima de 8 caracteres, contar con una letra may\xfascula, una letra min\xfascula y un n\xfamero "),e.qZA())}function P(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5),e._uU(3,"\u270d\ufe0f Crea tu cuenta!"),e.qZA(),e.TgZ(4,"div",6),e._uU(5,"Registrate para acceder"),e.qZA()(),e.TgZ(6,"div",7)(7,"form",8)(8,"ion-item",9)(9,"ion-label",10),e._uU(10,"Nombre"),e.qZA(),e._UZ(11,"ion-input",11),e.YNc(12,Z,2,0,"ion-note",12),e.qZA(),e.TgZ(13,"ion-item",9)(14,"ion-label",10),e._uU(15,"Correo Electr\xf3nico"),e.qZA(),e._UZ(16,"ion-input",13),e.YNc(17,b,2,0,"ion-note",12),e.qZA(),e.TgZ(18,"ion-item",14)(19,"ion-label",10),e._uU(20,"Contrase\xf1a"),e.qZA(),e._UZ(21,"ion-input",15),e.TgZ(22,"ion-button",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePasswordVisibility(0))}),e._UZ(23,"ion-icon",17),e.qZA()(),e.TgZ(24,"ion-item",18)(25,"ion-label",10),e._uU(26,"Re-ingresar contrase\xf1a"),e.qZA(),e._UZ(27,"ion-input",19),e.TgZ(28,"ion-button",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.togglePasswordVisibility(1))}),e._UZ(29,"ion-icon",17),e.qZA()(),e.TgZ(30,"ion-button",20),e._UZ(31,"ion-icon",17),e.qZA(),e.TgZ(32,"ion-popover",21),e.YNc(33,_,2,0,"ng-template"),e.qZA(),e.TgZ(34,"div",22),e._uU(35," \xbfYa tienes una cuenta?\xa0"),e.TgZ(36,"a",23)(37,"u",24),e._uU(38,"Ingresar"),e.qZA()()(),e.TgZ(39,"ion-button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.handleRegister())}),e.TgZ(40,"h1"),e._uU(41,"ACEPTAR"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.signUpForm),e.xp6(5),e.Q6J("ngIf",t.signUpForm.get("nombre").touched),e.xp6(5),e.Q6J("ngIf",t.signUpForm.get("email").touched),e.xp6(4),e.Q6J("type",t.hidePassword[0]?"password":"text"),e.xp6(2),e.Q6J("name",t.hidePassword[0]?"eye-off-outline":"eye-outline"),e.xp6(4),e.Q6J("type",t.hidePassword[1]?"password":"text"),e.xp6(2),e.Q6J("name",t.hidePassword[1]?"eye-off-outline":"eye-outline"),e.xp6(2),e.Q6J("name","information-circle-outline"),e.xp6(8),e.Q6J("disabled",!t.signUpForm.valid)}}function U(n,l){1&n&&e._UZ(0,"app-spinner",28),2&n&&e.Q6J("optionalMessage","Ingresando")}let T=(()=>{class n{constructor(t,i,r,d){this.auth=t,this._router=i,this.fb=r,this.toastController=d,this.attemptingSingUp=!1,this.hidePassword=[!0,!0],this.invalidCredentials=!1,this.emailAlreadyInUse=!1,this.invalidEmail=!1}ngOnInit(){this.signUpForm=this.fb.group({nombre:["",o.kI.required],email:["",[o.kI.required,o.kI.email]],password:["",[o.kI.required,o.kI.pattern("((?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,30})")]],confirmPassword:["",[o.kI.required,o.kI.pattern("((?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,30})")]]},{validators:h.checkPasswords}),this.signUpForm.valueChanges.subscribe(()=>{this.emailAlreadyInUse=!1,this.invalidEmail=!1})}ngOnDestroy(){console.log("Cleared")}togglePasswordVisibility(t){this.hidePassword[t]=!this.hidePassword[t]}handleRegister(){this.attemptingSingUp=!0,this.auth.SignUp(new p.n(this.signUpForm.get("email").value,this.signUpForm.get("nombre").value,"Apellido",18,"21313123",[]),this.signUpForm.get("password").value).then(t=>{"success"==t?setTimeout(()=>{this._router.navigate(["home"])},2200):(this.attemptingSingUp=!1,"auth/email-already-in-use"===t.code?(this.emailAlreadyInUse=!0,this.presentToast("bottom","El email ya est\xe1 en uso")):"auth/invalid-email"===t.code&&(this.invalidEmail=!0,this.presentToast("bottom","El email ingresado tiene un formato inv\xe1lido")))})}presentToast(t,i){var r=this;return(0,m.Z)(function*(){yield(yield r.toastController.create({message:i,duration:2500,position:t,icon:"alert-outline",buttons:[{text:"Minimizar",role:"cancel"}],color:"warning"})).present()})()}handleGoogleAuth(){this.auth.GoogleAuth()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.e),e.Y36(c.F0),e.Y36(o.qu),e.Y36(s.yF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],hostBindings:function(t,i){1&t&&e.NdJ("unloaded",function(){return i.ngOnDestroy()})},standalone:!0,features:[e.jDz],decls:4,vars:3,consts:[[3,"fullscreen"],["class","container p-4","style","min-height: 100%",4,"ngIf","ngIfElse"],["spinner",""],[1,"container","p-4",2,"min-height","100%"],[1,"row"],[1,"col-12","h1","heading","mt-4"],[1,"col-12","para","ml-5"],[1,"row","mt-5"],[3,"formGroup"],["lines","full",1,"mb-3"],["position","floating","color","warning"],["type","text","placeholder","Juan Gonzalez","formControlName","nombre"],["slot","error",4,"ngIf"],["type","email","placeholder","nombre@dominio.com","formControlName","email","errorText","Email Invalido"],["lines","full","errorText","Contrase\xf1a incorrecta",1,"mb-3"],["placeholder","**********","formControlName","password",3,"type"],["size","default","slot","end","fill","clear",1,"pt-3","icon-button",3,"click"],["color","light",1,"iconEye",3,"name"],["lines","full","errorText","Contrase\xf1a incorrecta"],["placeholder","**********","formControlName","confirmPassword",3,"type"],["id","pswd-hint","shape","round","fill","clear",1,"mb-3"],["trigger","pswd-hint","triggerAction","click"],[1,"signup-text","mb-5"],["routerLink","/login","routerLinkActive","active"],[1,"font-weight-bold"],["expand","block","strong","true","color","medium",1,"login-button","mt-4","mb-3","text-dark",3,"disabled","click"],["slot","error"],["color","warning",1,"ion-padding"],[3,"optionalMessage"]],template:function(t,i){if(1&t&&(e.TgZ(0,"ion-content",0),e.YNc(1,P,42,9,"div",1),e.YNc(2,U,1,1,"ng-template",null,2,e.W1O),e.qZA()),2&t){const r=e.MAs(3);e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",!i.attemptingSingUp)("ngIfElse",r)}},dependencies:[s.Pc,s.YG,s.W2,s.gu,s.pK,s.Ie,s.Q$,s.uN,s.d8,s.j9,s.Fo,u.ez,u.O5,o.u5,o._Y,o.JJ,o.JL,c.Bz,c.rH,c.Od,o.UX,o.sg,o.u,f.h,v.O],styles:[".heading[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.para[_ngcontent-%COMP%]{font-size:22px;font-weight:500;color:#fff}.login-button[_ngcontent-%COMP%]{height:150px;--border-radius: 12px;--box-shadow: none;--border-width: 2px;--border-style: solid;--border-color: black}.google-button[_ngcontent-%COMP%]{height:150px;--border-radius: 12px;--box-shadow: none}.signup-text[_ngcontent-%COMP%]{text-align:center}.signup-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--ion-color-warning)}ion-footer[_ngcontent-%COMP%]{display:block;order:1;width:100%;z-index:10}.copyright[_ngcontent-%COMP%]{text-align:center}.iconEye[_ngcontent-%COMP%]{font-size:26px}.icon-button[_ngcontent-%COMP%]{--ripple-color: #ffffff}ion-item[_ngcontent-%COMP%]{background:transparent;--highlight-height: 2px;--highlight-color-focused: #51f3ff;--highlight-color-valid: #ffffff;--highlight-color-invalid: #efe866;--border-color: #ffffff;--border-size: 2px}"]}),n})()}}]);